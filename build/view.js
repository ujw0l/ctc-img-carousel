(()=>{"use strict";class e{constructor(e,t){Array.from(document.querySelectorAll(e)).map(((e,l)=>this.prepCarousel(e,l,t)))}prepCarousel(e,t,l){let r=e.offsetWidth,i=e.offsetHeight,a={},n=Array.from(e.querySelectorAll("img"));n.map(((e,t)=>e.style.display="none"));let o=document.createElement("div");o.style=`width:${.42*r}px;height:${.7*i}px;z-index:400;display:inline-block;position:absolute;margin-top:${.15*i}px;margin-left:0px;background :rgba(0, 0 , 0, 1) url("") no-repeat center; background-size:cover;box-shadow:0px 5px 10px 2px black;`,a.prevThree=o,e.appendChild(o);let p=document.createElement("div");p.style=`width:${.49*r}px;height:${.8*i}px;z-index:500;display:inline-block;position:absolute;margin-top:${.1*i}px;margin-left:${.06*r}px;background :rgba(0, 0 , 0, 1) url("") no-repeat center; background-size:cover;box-shadow:0px 10px 15px 2px black;`,a.prevTwo=p,e.appendChild(p);let s=document.createElement("div");s.style=`width:${.63*r}px;height:${.9*i}px;z-index:700;display:inline-block;position:absolute;margin-top:${.05*i}px;margin-left:${.14*r}px;background :rgba(0, 0 , 0, 1) url("") no-repeat center; background-size:cover;box-shadow:0px 15px 20px 2px black;`,a.prevOne=s,e.appendChild(s);let d=document.createElement("div");d.style=`width:${.52*r}px;height:${i}px;z-index:1000;display:inline-block;position:absolute;margin-top:0px;margin-left:${.24*r}px;background :rgba(0, 0 , 0, 1) url("") no-repeat center; background-size:contain;box-shadow:0px 20px 25px 2px black;`,a.mainDiv=d,e.appendChild(d);let g=document.createElement("div");g.style=`width:${.63*r}px;height:${.9*i}px;z-index:700;display:inline-block;position:absolute;margin-top:${.05*i}px;margin-left:${.24*r}px;background :rgba(0, 0 , 0, 1) url("") no-repeat center; background-size:cover;box-shadow:0px 15px 20px 2px black;`,a.nextOne=g,e.appendChild(g);let x=document.createElement("div");x.style=`width:${.49*r}px;height:${.8*i}px;z-index:500;display:inline-block;position:absolute;margin-top:${.1*i}px;margin-left:${.45*r}px;background :rgba(0, 0 , 0, 1) url("") no-repeat center; background-size:cover;box-shadow:0px 10px 15px 2px black;`,a.nextTwo=x,e.appendChild(x);let c=document.createElement("div");c.style=`width:${.42*r}px;height:${.7*i}px;z-index:400;display:inline-block;position:absolute;margin-top:${.15*i}px;margin-left:${.58*r};background :rgba(0, 0 , 0, 1) url("") no-repeat center; background-size:cover;box-shadow:0px 5px 10px 2px black;`,a.nextThree=c,e.appendChild(c),this.createCarousel(0,n,a,t,l);for(let e in a)"mainDiv"!=e&&(a[e].addEventListener("click",(e=>this.createCarousel(parseInt(e.target.getAttribute("data-num")),n,a,t,l))),a[e].addEventListener("mouseenter",(e=>e.target.style.border="1px dotted rgba(0,0,0,0)")),a[e].addEventListener("mouseleave",(e=>e.target.style.border="")));null!=l&&"function"==typeof l.callBack&&l.callBack(e),window.addEventListener("resize",(()=>this.adjustOnResize(e,a,t)))}createCarousel(e,t,l,r,i){let a,n,o,p,s,d;a=0==e?t.length-3:1==e?t.length-2:2==e?t.length-1:e-3,n=0==e?t.length-2:1==e?t.length-1:e-2,o=0==e?t.length-1:e-1,p=e==t.length-1?0:e+1,s=e==t.length-1?1:e==t.length-2?0:e+2,d=e==t.length-1?2:e==t.length-2?1:e==t.length-3?0:e+3,l.prevThree.style.backgroundImage=`url('${t[a].src}')`,l.prevThree.title=null!=t[a].title?t[a].title:"",l.prevThree.setAttribute("data-num",a),l.prevTwo.style.backgroundImage=`url('${t[n].src}')`,l.prevTwo.title=null!=t[n].title?t[n].title:"",l.prevTwo.setAttribute("data-num",n),l.prevOne.style.backgroundImage=`url('${t[o].src}')`,l.prevOne.title=null!=t[o].title?t[o].title:"",l.prevOne.setAttribute("data-num",o);let g=new Image;g.src=t[e].src,g.title=null!=t[e].title?t[e].title:"",l.mainDiv.style.backgroundImage="url('')";let x=l.mainDiv.querySelector("#img-loading-"+r);if(null==x){x=document.createElement("div"),x.id=`img-loading-${r}`,x.style=`margin-left:${(l.mainDiv.offsetWidth-40)/2}px;margin-top:${(l.mainDiv.offsetHeight-40)/2}px;height:40px;width:40px;border-radius:50%;border-color:rgba(255,255,255,1);border-style: solid; border-width: 3px;z-index:1100; `,x.setAttribute("data-wait","left"),l.mainDiv.appendChild(x);var c=setInterval((()=>{switch(x.getAttribute("data-wait")){case"left":x.setAttribute("data-wait","top"),x.style.borderColor="rgba(255,255,255,0.5)",x.style.borderTop="3px solid  rgba(255,255,255,0.8)";break;case"top":x.setAttribute("data-wait","right"),x.style.borderColor="rgba(255,255,255,0.5)",x.style.borderRight="3px solid  rgba(255,255,255,0.8)";break;case"right":x.setAttribute("data-wait","bottom"),x.style.borderColor="rgba(255,255,255,0.5)",x.style.borderBottom="3px solid  rgba(255,255,255,0.8)";break;case"bottom":x.setAttribute("data-wait","left"),x.style.borderColor="rgba(255,255,255,0.5)",x.style.borderLeft="3px solid  rgba(255,255,255,0.8)"}}),400)}g.addEventListener("load",(e=>{clearInterval(c),l.mainDiv.removeChild(x),l.mainDiv.style.backgroundImage=`url('${e.target.src}')`,l.mainDiv.title=null!=e.target.title?e.target.title:""})),l.nextOne.style.backgroundImage=`url('${t[p].src}')`,l.nextOne.title=null!=t[p].title?t[p].title:"",l.nextOne.setAttribute("data-num",p),l.nextTwo.style.backgroundImage=`url('${t[s].src}')`,l.nextTwo.title=null!=t[s].title?t[s].title:"",l.nextTwo.setAttribute("data-num",s),l.nextThree.style.backgroundImage=`url('${t[d].src}')`,l.nextThree.title=null!=t[d].title?t[d].title:"",l.nextThree.setAttribute("data-num",d)}adjustOnResize(e,t,l){let r=e.offsetWidth,i=e.offsetHeight,a=t.prevThree;a.style.width=.42*r+"px",a.style.height=.7*i+"px",a.style.marginTop=.15*i+"px",a.style.marginLeft="0px";let n=t.prevTwo;n.style.width=.49*r+"px",n.style.height=.8*i+"px",n.style.marginTop=.1*i+"px",n.style.marginLeft=.06*r+"px";let o=t.prevOne;o.style.width=.63*r+"px",o.style.height=.9*i+"px",o.style.marginTop=.05*i+"px",o.style.marginLeft=.14*r+"px";let p=t.mainDiv;p.style.width=.52*r+"px",p.style.height=`${i}px`,p.style.marginTop="0px",p.style.marginLeft=.24*r+"px";let s=p.querySelector("#img-loading-"+l);null!=s&&(s.style.marginLeft=(p.offsetWidth-40)/2+"px",s.style.marginTop=(p.offsetHeight-40)/2+"px");let d=t.nextOne;d.style.width=.63*r+"px",d.style.height=.9*i+"px",d.style.marginTop=.05*i+"px",d.style.marginLeft=.24*r+"px";let g=t.nextTwo;g.style.width=.49*r+"px",g.style.height=.8*i+"px",g.style.marginTop=.1*i+"px",g.style.marginLeft=.45*r+"px";let x=t.nextThree;x.style.width=.42*r+"px",x.style.height=.7*i+"px",x.style.marginTop=.15*i+"px",x.style.marginLeft=.58*r+"px"}}window.addEventListener("DOMContentLoaded",(()=>{new e(".ctc-image-carousel")}))})();